
"""
This script is meant to be sourced inside GDB when debugging a program that
uses liblktlang. It installs Langkit's "GDB helpers": pretty-printers and
custom commands that are convenient when debugging liblktlang. Note that GDB
helpers require the Langkit Python library.
"""

import sys




try:
    import langkit.gdb
except ImportError as exc:
    print(
        f"{__file__}: Cannot import the 'langkit.gdb' Python package: langkit"
        " GDB helpers require it",
        file=sys.stderr,
    )
else:
    
    langkit.gdb.setup(
        lib_name='liblktlang',
        astnode_names=['Lkt_Node', 'Argument', 'Base_Lexer_Case_Rule_Alt', 'Lexer_Case_Rule_Cond_Alt', 'Lexer_Case_Rule_Default_Alt', 'Block_String_Line', 'Class_Qualifier', 'Class_Qualifier_Absent', 'Class_Qualifier_Present', 'Decl', 'Base_Grammar_Rule_Decl', 'Grammar_Rule_Decl', 'Synthetic_Lexer_Decl', 'Base_Val_Decl', 'Node_Decl', 'Self_Decl', 'User_Val_Decl', 'Enum_Lit_Decl', 'Explicitly_Typed_Decl', 'Component_Decl', 'Field_Decl', 'Fun_Param_Decl', 'Lambda_Param_Decl', 'Dyn_Var_Decl', 'Match_Val_Decl', 'Val_Decl', 'Fun_Decl', 'Env_Spec_Decl', 'Generic_Decl', 'Grammar_Decl', 'Lexer_Decl', 'Lexer_Family_Decl', 'Synth_Fun_Decl', 'Synth_Param_Decl', 'Type_Decl', 'Any_Type_Decl', 'Enum_Class_Alt_Decl', 'Function_Type', 'Generic_Param_Type_Decl', 'Named_Type_Decl', 'Basic_Class_Decl', 'Class_Decl', 'Enum_Class_Decl', 'Enum_Type_Decl', 'Struct_Decl', 'Trait_Decl', 'Decl_Annotation', 'Decl_Annotation_Args', 'Dyn_Env_Wrapper', 'Elsif_Branch', 'Enum_Class_Case', 'Excludes_Null', 'Excludes_Null_Absent', 'Excludes_Null_Present', 'Expr', 'Any_Of', 'Array_Literal', 'Base_Call_Expr', 'Call_Expr', 'Logic_Call_Expr', 'Logic_Predicate', 'Logic_Propagate_Call', 'Bin_Op', 'Block_Expr', 'Cast_Expr', 'Dot_Expr', 'Error_On_Null', 'Generic_Instantiation', 'Grammar_Expr', 'Grammar_Cut', 'Grammar_Discard', 'Grammar_Dont_Skip', 'Grammar_List', 'Grammar_Null', 'Grammar_Opt', 'Grammar_Opt_Error', 'Grammar_Opt_Error_Group', 'Grammar_Opt_Group', 'Grammar_Or_Expr', 'Grammar_Pick', 'Grammar_Implicit_Pick', 'Grammar_Predicate', 'Grammar_Rule_Ref', 'Grammar_Skip', 'Grammar_Stop_Cut', 'Parse_Node_Expr', 'Token_Lit', 'Token_No_Case_Lit', 'Token_Pattern_Concat', 'Token_Pattern_Lit', 'Token_Ref', 'Id', 'Def_Id', 'Module_Ref_Id', 'Ref_Id', 'If_Expr', 'Isa', 'Keep_Expr', 'Lambda_Expr', 'Lit', 'Big_Num_Lit', 'Char_Lit', 'Null_Lit', 'Num_Lit', 'String_Lit', 'Block_String_Lit', 'Single_Line_String_Lit', 'Pattern_Single_Line_String_Lit', 'Logic_Assign', 'Logic_Expr', 'Logic_Propagate', 'Logic_Unify', 'Match_Expr', 'Not_Expr', 'Paren_Expr', 'Raise_Expr', 'Subscript_Expr', 'Try_Expr', 'Un_Op', 'Full_Decl', 'Grammar_List_Sep', 'Import', 'Langkit_Root', 'Lexer_Case_Rule', 'Lexer_Case_Rule_Send', 'List_Kind', 'List_Kind_One', 'List_Kind_Zero', 'Lkt_Node_Base_List', 'Argument_List', 'Base_Lexer_Case_Rule_Alt_List', 'Block_String_Line_List', 'Call_Expr_List', 'Decl_Annotation_List', 'Elsif_Branch_List', 'Enum_Class_Alt_Decl_List', 'Enum_Class_Case_List', 'Enum_Lit_Decl_List', 'Expr_List', 'Any_Of_List', 'Full_Decl_List', 'Decl_Block', 'Generic_Param_Decl_List', 'Fun_Param_Decl_List', 'Grammar_Expr_List', 'Grammar_Expr_List_List', 'Import_List', 'Lambda_Param_Decl_List', 'Lkt_Node_List', 'Block_Decl_List', 'Match_Branch_List', 'Ref_Id_List', 'Type_Ref_List', 'Isa_List', 'Match_Branch', 'Null_Cond_Qualifier', 'Null_Cond_Qualifier_Absent', 'Null_Cond_Qualifier_Present', 'Op', 'Op_Amp', 'Op_And', 'Op_Div', 'Op_Eq', 'Op_Gt', 'Op_Gte', 'Op_Logic_And', 'Op_Logic_Or', 'Op_Lt', 'Op_Lte', 'Op_Minus', 'Op_Mult', 'Op_Ne', 'Op_Or', 'Op_Or_Int', 'Op_Plus', 'Type_Ref', 'Default_List_Type_Ref', 'Function_Type_Ref', 'Generic_Type_Ref', 'Simple_Type_Ref', 'Var_Bind'],
        astnode_kinds={1: 'Argument', 2: 'Lexer_Case_Rule_Cond_Alt', 3: 'Lexer_Case_Rule_Default_Alt', 4: 'Block_String_Line', 5: 'Class_Qualifier_Absent', 6: 'Class_Qualifier_Present', 7: 'Grammar_Rule_Decl', 8: 'Synthetic_Lexer_Decl', 9: 'Node_Decl', 10: 'Self_Decl', 11: 'Enum_Lit_Decl', 12: 'Field_Decl', 13: 'Fun_Param_Decl', 14: 'Lambda_Param_Decl', 15: 'Dyn_Var_Decl', 16: 'Match_Val_Decl', 17: 'Val_Decl', 18: 'Fun_Decl', 19: 'Env_Spec_Decl', 20: 'Generic_Decl', 21: 'Grammar_Decl', 22: 'Lexer_Decl', 23: 'Lexer_Family_Decl', 24: 'Synth_Fun_Decl', 25: 'Synth_Param_Decl', 26: 'Any_Type_Decl', 27: 'Enum_Class_Alt_Decl', 28: 'Function_Type', 29: 'Generic_Param_Type_Decl', 30: 'Class_Decl', 31: 'Enum_Class_Decl', 32: 'Enum_Type_Decl', 33: 'Struct_Decl', 34: 'Trait_Decl', 35: 'Decl_Annotation', 36: 'Decl_Annotation_Args', 37: 'Dyn_Env_Wrapper', 38: 'Elsif_Branch', 39: 'Enum_Class_Case', 40: 'Excludes_Null_Absent', 41: 'Excludes_Null_Present', 42: 'Any_Of', 43: 'Array_Literal', 44: 'Call_Expr', 45: 'Logic_Predicate', 46: 'Logic_Propagate_Call', 47: 'Bin_Op', 48: 'Block_Expr', 49: 'Cast_Expr', 50: 'Dot_Expr', 51: 'Error_On_Null', 52: 'Generic_Instantiation', 53: 'Grammar_Cut', 54: 'Grammar_Discard', 55: 'Grammar_Dont_Skip', 56: 'Grammar_List', 57: 'Grammar_Null', 58: 'Grammar_Opt', 59: 'Grammar_Opt_Error', 60: 'Grammar_Opt_Error_Group', 61: 'Grammar_Opt_Group', 62: 'Grammar_Or_Expr', 63: 'Grammar_Pick', 64: 'Grammar_Implicit_Pick', 65: 'Grammar_Predicate', 66: 'Grammar_Rule_Ref', 67: 'Grammar_Skip', 68: 'Grammar_Stop_Cut', 69: 'Parse_Node_Expr', 70: 'Token_Lit', 71: 'Token_No_Case_Lit', 72: 'Token_Pattern_Concat', 73: 'Token_Pattern_Lit', 74: 'Token_Ref', 75: 'Id', 76: 'Def_Id', 77: 'Module_Ref_Id', 78: 'Ref_Id', 79: 'If_Expr', 80: 'Isa', 81: 'Keep_Expr', 82: 'Lambda_Expr', 83: 'Big_Num_Lit', 84: 'Char_Lit', 85: 'Null_Lit', 86: 'Num_Lit', 87: 'Block_String_Lit', 88: 'Single_Line_String_Lit', 89: 'Pattern_Single_Line_String_Lit', 90: 'Logic_Assign', 91: 'Logic_Expr', 92: 'Logic_Propagate', 93: 'Logic_Unify', 94: 'Match_Expr', 95: 'Not_Expr', 96: 'Paren_Expr', 97: 'Raise_Expr', 98: 'Subscript_Expr', 99: 'Try_Expr', 100: 'Un_Op', 101: 'Full_Decl', 102: 'Grammar_List_Sep', 103: 'Import', 104: 'Langkit_Root', 105: 'Lexer_Case_Rule', 106: 'Lexer_Case_Rule_Send', 107: 'List_Kind_One', 108: 'List_Kind_Zero', 109: 'Argument_List', 110: 'Base_Lexer_Case_Rule_Alt_List', 111: 'Block_String_Line_List', 112: 'Call_Expr_List', 113: 'Decl_Annotation_List', 114: 'Elsif_Branch_List', 115: 'Enum_Class_Alt_Decl_List', 116: 'Enum_Class_Case_List', 117: 'Enum_Lit_Decl_List', 118: 'Expr_List', 119: 'Any_Of_List', 120: 'Full_Decl_List', 121: 'Decl_Block', 122: 'Generic_Param_Decl_List', 123: 'Fun_Param_Decl_List', 124: 'Grammar_Expr_List', 125: 'Grammar_Expr_List_List', 126: 'Import_List', 127: 'Lambda_Param_Decl_List', 128: 'Lkt_Node_List', 129: 'Block_Decl_List', 130: 'Match_Branch_List', 131: 'Ref_Id_List', 132: 'Type_Ref_List', 133: 'Isa_List', 134: 'Match_Branch', 135: 'Null_Cond_Qualifier_Absent', 136: 'Null_Cond_Qualifier_Present', 137: 'Op_Amp', 138: 'Op_And', 139: 'Op_Div', 140: 'Op_Eq', 141: 'Op_Gt', 142: 'Op_Gte', 143: 'Op_Logic_And', 144: 'Op_Logic_Or', 145: 'Op_Lt', 146: 'Op_Lte', 147: 'Op_Minus', 148: 'Op_Mult', 149: 'Op_Ne', 150: 'Op_Or', 151: 'Op_Or_Int', 152: 'Op_Plus', 153: 'Default_List_Type_Ref', 154: 'Function_Type_Ref', 155: 'Generic_Type_Ref', 156: 'Simple_Type_Ref', 157: 'Var_Bind'},
        prefix='lkt'
    )
