grammar foo_grammar {
    lit <- Literal(@number)
    nl <- NewLineNode(lit @newline lit)
    ind <- IndentNode(lit @newline @indent lit @dedent)
    comp <- CompositeNode(
        lit
        @newline
        lit @newline @indent lit @newline @dedent lit
    )
    @main_rule main_rule <- or(comp | ind | nl)

}

@root_node class FooNode {
}

class CompositeNode : FooNode {
    @parse_field lit_1 : Literal
    @parse_field lit_2 : Literal
    @parse_field lit_3 : Literal
    @parse_field lit_4 : Literal
}

class IndentNode : FooNode {
    @parse_field lit_1 : Literal
    @parse_field lit_2 : Literal
}

class Literal : FooNode {
}

class NewLineNode : FooNode {
    @parse_field lit_1 : Literal
    @parse_field lit_2 : Literal
}
