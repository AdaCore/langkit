Resolving test.lkt
==================
Id   <RefId "A" test.lkt:2:21-2:22>
     references <ClassDecl "A" test.lkt:1:12-26:2>

Expr <RefId "self" test.lkt:2:25-2:29>
     has type <ClassDecl "A" test.lkt:1:12-26:2>

Id   <RefId "self" test.lkt:2:25-2:29>
     references <SelfDecl "self" test.lkt:1:12-26:2>

Id   <RefId "Int" test.lkt:4:21-4:24>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:4:27-4:29>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "A" test.lkt:6:29-6:30>
     references <ClassDecl "A" test.lkt:1:12-26:2>

test.lkt:6:33: Expected instance of type 'A', got a number literal

Id   <RefId "Int" test.lkt:8:25-8:28>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <BinOp test.lkt:8:31-8:38>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:8:31-8:33>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:8:36-8:38>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "Int" test.lkt:10:35-10:38>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <BinOp test.lkt:10:41-10:50>
     has type <StructDecl "Int" __prelude:1:10-1:23>

test.lkt:10:41: Expected instance of type 'Int', got a string literal

Expr <NumLit test.lkt:10:48-10:50>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "Int" test.lkt:12:35-12:38>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <BinOp test.lkt:12:41-12:50>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:12:41-12:43>
     has type <StructDecl "Int" __prelude:1:10-1:23>

test.lkt:12:46: Expected instance of type 'Int', got type A

Id   <RefId "self" test.lkt:12:46-12:50>
     references <SelfDecl "self" test.lkt:1:12-26:2>

Id   <RefId "A" test.lkt:14:35-14:36>
     references <ClassDecl "A" test.lkt:1:12-26:2>

Expr <BinOp test.lkt:14:39-14:48>
     has type <ClassDecl "A" test.lkt:1:12-26:2>

test.lkt:14:39: Expected instance of type 'A', got a number literal

Expr <RefId "self" test.lkt:14:44-14:48>
     has type <ClassDecl "A" test.lkt:1:12-26:2>

Id   <RefId "self" test.lkt:14:44-14:48>
     references <SelfDecl "self" test.lkt:1:12-26:2>

Id   <RefId "Regexp" test.lkt:16:26-16:32>
     references <StructDecl "Regexp" __prelude:5:10-5:26>

Expr <StringLit test.lkt:16:35-16:43>
     has type <StructDecl "Regexp" __prelude:5:10-5:26>

Id   <RefId "Regexp" test.lkt:18:26-18:32>
     references <StructDecl "Regexp" __prelude:5:10-5:26>

Expr <BlockExpr test.lkt:18:35-21:6>
     has type <StructDecl "Regexp" __prelude:5:10-5:26>

Expr <StringLit test.lkt:19:18-19:26>
     has type <StructDecl "Regexp" __prelude:5:10-5:26>

Resolving type of expr <RefId "rg" test.lkt:20:9-20:11> raised an error
    dereferencing a null access
Id   <RefId "rg" test.lkt:20:9-20:11>
     references <ValDecl "rg" test.lkt:19:9-19:26>

Id   <RefId "Int" test.lkt:23:22-23:25>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <IfExpr test.lkt:23:28-23:49>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <RefId "true" test.lkt:23:31-23:35>
     has type <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Id   <RefId "true" test.lkt:23:31-23:35>
     references <EnumLitDecl "true" __prelude:6:28-6:32>

Expr <NumLit test.lkt:23:41-23:42>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:23:48-23:49>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "Int" test.lkt:25:30-25:33>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <IfExpr test.lkt:25:36-25:59>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <RefId "true" test.lkt:25:39-25:43>
     has type <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Id   <RefId "true" test.lkt:25:39-25:43>
     references <EnumLitDecl "true" __prelude:6:28-6:32>

Expr <NumLit test.lkt:25:49-25:50>
     has type <StructDecl "Int" __prelude:1:10-1:23>

test.lkt:25:56: Expected instance of type 'Int', got a string literal

Id   <RefId "C" test.lkt:29:9-29:10>
     references <GenericFormalTypeDecl "C" test.lkt:28:10-28:11>

Id   <RefId "C" test.lkt:30:9-30:10>
     references <GenericFormalTypeDecl "C" test.lkt:28:10-28:11>

Id   <RefId "C" test.lkt:34:9-34:10>
     references <GenericFormalTypeDecl "C" test.lkt:33:10-33:11>

Id   <RefId "D" test.lkt:35:9-35:10>
     references <GenericFormalTypeDecl "D" test.lkt:33:13-33:14>

Id   <RefId "A" test.lkt:38:11-38:12>
     references <ClassDecl "A" test.lkt:1:12-26:2>

Id   <RefId "Pair" test.lkt:39:37-39:41>
     references <GenericDecl "Pair" test.lkt:28:1-31:2>

Id   <RefId "Int" test.lkt:39:42-39:45>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <CallExpr test.lkt:39:49-39:66>
     has type <InstantiatedGenericType "Pair" test.lkt:28:1-31:2>

Id   <RefId "Pair" test.lkt:39:49-39:53>
     references <GenericDecl "Pair" test.lkt:28:1-31:2>

Id   <RefId "Int" test.lkt:39:54-39:57>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:39:59-39:61>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:39:63-39:65>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "Int" test.lkt:40:42-40:45>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <DotExpr test.lkt:40:48-40:68>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <CallExpr test.lkt:40:48-40:66>
     has type <InstantiatedGenericType "Pair" test.lkt:28:1-31:2>

Id   <RefId "Pair" test.lkt:40:48-40:52>
     references <GenericDecl "Pair" test.lkt:28:1-31:2>

Id   <RefId "Int" test.lkt:40:53-40:56>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:40:58-40:60>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:40:63-40:65>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <RefId "a" test.lkt:40:67-40:68>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "a" test.lkt:40:67-40:68>
     references <FieldDecl "a" test.lkt:29:5-29:10>

Id   <RefId "Pair" test.lkt:41:38-41:42>
     references <GenericDecl "Pair" test.lkt:28:1-31:2>

Id   <RefId "Int" test.lkt:41:43-41:46>
     references <StructDecl "Int" __prelude:1:10-1:23>

test.lkt:41:50: Expected instance of type 'Pair[Int]', got type Int

Expr <CallExpr test.lkt:41:50-41:67>
     has type <InstantiatedGenericType "Pair" test.lkt:28:1-31:2>

Id   <RefId "Pair" test.lkt:41:50-41:54>
     references <GenericDecl "Pair" test.lkt:28:1-31:2>

Id   <RefId "Int" test.lkt:41:55-41:58>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:41:60-41:62>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <NumLit test.lkt:41:64-41:66>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <RefId "a" test.lkt:41:68-41:69>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "a" test.lkt:41:68-41:69>
     references <FieldDecl "a" test.lkt:29:5-29:10>

Id   <RefId "Bool" test.lkt:42:44-42:48>
     references <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Expr <DotExpr test.lkt:42:51-42:80>
     has type <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Expr <CallExpr test.lkt:42:51-42:78>
     has type <InstantiatedGenericType "Tuple2" test.lkt:33:1-36:2>

Id   <RefId "Tuple2" test.lkt:42:51-42:57>
     references <GenericDecl "Tuple2" test.lkt:33:1-36:2>

Id   <RefId "Int" test.lkt:42:58-42:61>
     references <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "Bool" test.lkt:42:63-42:67>
     references <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Expr <NumLit test.lkt:42:69-42:71>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <RefId "true" test.lkt:42:73-42:77>
     has type <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Id   <RefId "true" test.lkt:42:73-42:77>
     references <EnumLitDecl "true" __prelude:6:28-6:32>

Expr <RefId "b" test.lkt:42:79-42:80>
     has type <EnumTypeDecl "Bool" __prelude:6:10-6:36>

Id   <RefId "b" test.lkt:42:79-42:80>
     references <FieldDecl "b" test.lkt:35:5-35:10>

Id   <RefId "Tuple2" test.lkt:43:40-43:46>
     references <GenericDecl "Tuple2" test.lkt:33:1-36:2>

Id   <RefId "Int" test.lkt:43:47-43:50>
     references <StructDecl "Int" __prelude:1:10-1:23>

Id   <RefId "Bool" test.lkt:43:52-43:56>
     references <EnumTypeDecl "Bool" __prelude:6:10-6:36>

test.lkt:43:60: Expected instance of type 'Tuple2[Int, Bool]', got type Bool

Id   <RefId "true" test.lkt:43:60-43:64>
     references <EnumLitDecl "true" __prelude:6:28-6:32>

Id   <RefId "A" test.lkt:44:29-44:30>
     references <ClassDecl "A" test.lkt:1:12-26:2>

Id   <RefId "Int" test.lkt:44:33-44:36>
     references <StructDecl "Int" __prelude:1:10-1:23>

Expr <CallExpr test.lkt:44:39-44:57>
     has type <StructDecl "Int" __prelude:1:10-1:23>

Expr <RefId "arg" test.lkt:44:39-44:42>
     has type <ClassDecl "A" test.lkt:1:12-26:2>

Id   <RefId "arg" test.lkt:44:39-44:42>
     references <FunArgDecl "arg" test.lkt:44:23-44:30>

Id   <RefId "test_int_add" test.lkt:44:43-44:55>
     references <FunDecl "test_int_add" test.lkt:8:5-8:38>

