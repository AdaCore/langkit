
"""
This script is meant to be sourced inside GDB when debugging a program that
uses liblktlang. It installs Langkit's "GDB helpers": pretty-printers and
custom commands that are convenient when debugging liblktlang. Note that GDB
helpers require the Langkit Python library.
"""

import sys




try:
    import langkit.gdb
except ImportError as exc:
    print(
        f"{__file__}: Cannot import the 'langkit.gdb' Python package: langkit"
        " GDB helpers require it",
        file=sys.stderr,
    )
else:
    
    langkit.gdb.setup(
        lib_name='liblktlang',
        astnode_names=['Lkt_Node', 'Argument', 'Base_Lexer_Case_Rule_Alt', 'Lexer_Case_Rule_Cond_Alt', 'Lexer_Case_Rule_Default_Alt', 'Base_Match_Branch', 'Match_Branch', 'Pattern_Match_Branch', 'Base_Pattern', 'Binding_Pattern', 'Filtered_Pattern', 'Value_Pattern', 'Bool_Pattern', 'Bool_Pattern_False', 'Bool_Pattern_True', 'Integer_Pattern', 'List_Pattern', 'Node_Pattern', 'Extended_Node_Pattern', 'Type_Pattern', 'Not_Pattern', 'Null_Pattern', 'Or_Pattern', 'Paren_Pattern', 'Regex_Pattern', 'Splat_Pattern', 'Tuple_Pattern', 'Universal_Pattern', 'Block_String_Line', 'Class_Qualifier', 'Class_Qualifier_Absent', 'Class_Qualifier_Present', 'Decl', 'Base_Grammar_Rule_Decl', 'Grammar_Rule_Decl', 'Synthetic_Lexer_Decl', 'Base_Val_Decl', 'Node_Decl', 'Self_Decl', 'User_Val_Decl', 'Binding_Val_Decl', 'Enum_Lit_Decl', 'Explicitly_Typed_Decl', 'Component_Decl', 'Field_Decl', 'Fun_Param_Decl', 'Lambda_Param_Decl', 'Dyn_Var_Decl', 'Match_Val_Decl', 'Val_Decl', 'Fun_Decl', 'Env_Spec_Decl', 'Generic_Decl', 'Grammar_Decl', 'Lexer_Decl', 'Lexer_Family_Decl', 'Synth_Fun_Decl', 'Synth_Param_Decl', 'Type_Decl', 'Any_Type_Decl', 'Enum_Class_Alt_Decl', 'Function_Type', 'Generic_Param_Type_Decl', 'Named_Type_Decl', 'Basic_Class_Decl', 'Class_Decl', 'Enum_Class_Decl', 'Enum_Type_Decl', 'Struct_Decl', 'Trait_Decl', 'Decl_Annotation', 'Decl_Annotation_Args', 'Dyn_Env_Wrapper', 'Elsif_Branch', 'Enum_Class_Case', 'Excludes_Null', 'Excludes_Null_Absent', 'Excludes_Null_Present', 'Expr', 'Any_Of', 'Array_Literal', 'Base_Call_Expr', 'Call_Expr', 'Logic_Call_Expr', 'Logic_Predicate', 'Logic_Propagate_Call', 'Bin_Op', 'Block_Expr', 'Cast_Expr', 'Dot_Expr', 'Error_On_Null', 'Generic_Instantiation', 'Grammar_Expr', 'Grammar_Cut', 'Grammar_Discard', 'Grammar_Dont_Skip', 'Grammar_List', 'Grammar_Null', 'Grammar_Opt', 'Grammar_Opt_Error', 'Grammar_Opt_Error_Group', 'Grammar_Opt_Group', 'Grammar_Or_Expr', 'Grammar_Pick', 'Grammar_Implicit_Pick', 'Grammar_Predicate', 'Grammar_Rule_Ref', 'Grammar_Skip', 'Grammar_Stop_Cut', 'Parse_Node_Expr', 'Token_Lit', 'Token_No_Case_Lit', 'Token_Pattern_Concat', 'Token_Pattern_Lit', 'Token_Ref', 'Id', 'Def_Id', 'Module_Ref_Id', 'Ref_Id', 'If_Expr', 'Isa', 'Keep_Expr', 'Lambda_Expr', 'Lit', 'Big_Num_Lit', 'Char_Lit', 'Null_Lit', 'Num_Lit', 'String_Lit', 'Block_String_Lit', 'Single_Line_String_Lit', 'Pattern_Single_Line_String_Lit', 'Logic_Assign', 'Logic_Expr', 'Logic_Propagate', 'Logic_Unify', 'Match_Expr', 'Not_Expr', 'Paren_Expr', 'Raise_Expr', 'Subscript_Expr', 'Try_Expr', 'Un_Op', 'Full_Decl', 'Grammar_List_Sep', 'Import', 'Langkit_Root', 'Lexer_Case_Rule', 'Lexer_Case_Rule_Send', 'List_Kind', 'List_Kind_One', 'List_Kind_Zero', 'Lkt_Node_Base_List', 'Argument_List', 'Base_Lexer_Case_Rule_Alt_List', 'Base_Match_Branch_List', 'Base_Pattern_List', 'Block_String_Line_List', 'Call_Expr_List', 'Decl_Annotation_List', 'Elsif_Branch_List', 'Enum_Class_Alt_Decl_List', 'Enum_Class_Case_List', 'Enum_Lit_Decl_List', 'Expr_List', 'Any_Of_List', 'Full_Decl_List', 'Decl_Block', 'Generic_Param_Decl_List', 'Fun_Param_Decl_List', 'Grammar_Expr_List', 'Grammar_Expr_List_List', 'Import_List', 'Lambda_Param_Decl_List', 'Lkt_Node_List', 'Block_Decl_List', 'Node_Pattern_Detail_List', 'Ref_Id_List', 'Type_Ref_List', 'Synthetic_Type_Ref_List', 'Node_Pattern_Detail', 'Node_Pattern_Field', 'Node_Pattern_Property', 'Node_Pattern_Selector', 'Null_Cond_Qualifier', 'Null_Cond_Qualifier_Absent', 'Null_Cond_Qualifier_Present', 'Op', 'Op_Amp', 'Op_And', 'Op_Div', 'Op_Eq', 'Op_Gt', 'Op_Gte', 'Op_Logic_And', 'Op_Logic_Or', 'Op_Lt', 'Op_Lte', 'Op_Minus', 'Op_Mult', 'Op_Ne', 'Op_Or', 'Op_Or_Int', 'Op_Plus', 'Selector_Call', 'Type_Ref', 'Default_List_Type_Ref', 'Function_Type_Ref', 'Generic_Type_Ref', 'Simple_Type_Ref', 'Var_Bind'],
        astnode_kinds={1: 'Argument', 2: 'Lexer_Case_Rule_Cond_Alt', 3: 'Lexer_Case_Rule_Default_Alt', 4: 'Match_Branch', 5: 'Pattern_Match_Branch', 6: 'Binding_Pattern', 7: 'Filtered_Pattern', 8: 'Bool_Pattern_False', 9: 'Bool_Pattern_True', 10: 'Integer_Pattern', 11: 'List_Pattern', 12: 'Extended_Node_Pattern', 13: 'Type_Pattern', 14: 'Not_Pattern', 15: 'Null_Pattern', 16: 'Or_Pattern', 17: 'Paren_Pattern', 18: 'Regex_Pattern', 19: 'Splat_Pattern', 20: 'Tuple_Pattern', 21: 'Universal_Pattern', 22: 'Block_String_Line', 23: 'Class_Qualifier_Absent', 24: 'Class_Qualifier_Present', 25: 'Grammar_Rule_Decl', 26: 'Synthetic_Lexer_Decl', 27: 'Node_Decl', 28: 'Self_Decl', 29: 'Binding_Val_Decl', 30: 'Enum_Lit_Decl', 31: 'Field_Decl', 32: 'Fun_Param_Decl', 33: 'Lambda_Param_Decl', 34: 'Dyn_Var_Decl', 35: 'Match_Val_Decl', 36: 'Val_Decl', 37: 'Fun_Decl', 38: 'Env_Spec_Decl', 39: 'Generic_Decl', 40: 'Grammar_Decl', 41: 'Lexer_Decl', 42: 'Lexer_Family_Decl', 43: 'Synth_Fun_Decl', 44: 'Synth_Param_Decl', 45: 'Any_Type_Decl', 46: 'Enum_Class_Alt_Decl', 47: 'Function_Type', 48: 'Generic_Param_Type_Decl', 49: 'Class_Decl', 50: 'Enum_Class_Decl', 51: 'Enum_Type_Decl', 52: 'Struct_Decl', 53: 'Trait_Decl', 54: 'Decl_Annotation', 55: 'Decl_Annotation_Args', 56: 'Dyn_Env_Wrapper', 57: 'Elsif_Branch', 58: 'Enum_Class_Case', 59: 'Excludes_Null_Absent', 60: 'Excludes_Null_Present', 61: 'Any_Of', 62: 'Array_Literal', 63: 'Call_Expr', 64: 'Logic_Predicate', 65: 'Logic_Propagate_Call', 66: 'Bin_Op', 67: 'Block_Expr', 68: 'Cast_Expr', 69: 'Dot_Expr', 70: 'Error_On_Null', 71: 'Generic_Instantiation', 72: 'Grammar_Cut', 73: 'Grammar_Discard', 74: 'Grammar_Dont_Skip', 75: 'Grammar_List', 76: 'Grammar_Null', 77: 'Grammar_Opt', 78: 'Grammar_Opt_Error', 79: 'Grammar_Opt_Error_Group', 80: 'Grammar_Opt_Group', 81: 'Grammar_Or_Expr', 82: 'Grammar_Pick', 83: 'Grammar_Implicit_Pick', 84: 'Grammar_Predicate', 85: 'Grammar_Rule_Ref', 86: 'Grammar_Skip', 87: 'Grammar_Stop_Cut', 88: 'Parse_Node_Expr', 89: 'Token_Lit', 90: 'Token_No_Case_Lit', 91: 'Token_Pattern_Concat', 92: 'Token_Pattern_Lit', 93: 'Token_Ref', 94: 'Id', 95: 'Def_Id', 96: 'Module_Ref_Id', 97: 'Ref_Id', 98: 'If_Expr', 99: 'Isa', 100: 'Keep_Expr', 101: 'Lambda_Expr', 102: 'Big_Num_Lit', 103: 'Char_Lit', 104: 'Null_Lit', 105: 'Num_Lit', 106: 'Block_String_Lit', 107: 'Single_Line_String_Lit', 108: 'Pattern_Single_Line_String_Lit', 109: 'Logic_Assign', 110: 'Logic_Expr', 111: 'Logic_Propagate', 112: 'Logic_Unify', 113: 'Match_Expr', 114: 'Not_Expr', 115: 'Paren_Expr', 116: 'Raise_Expr', 117: 'Subscript_Expr', 118: 'Try_Expr', 119: 'Un_Op', 120: 'Full_Decl', 121: 'Grammar_List_Sep', 122: 'Import', 123: 'Langkit_Root', 124: 'Lexer_Case_Rule', 125: 'Lexer_Case_Rule_Send', 126: 'List_Kind_One', 127: 'List_Kind_Zero', 128: 'Argument_List', 129: 'Base_Lexer_Case_Rule_Alt_List', 130: 'Base_Match_Branch_List', 131: 'Base_Pattern_List', 132: 'Block_String_Line_List', 133: 'Call_Expr_List', 134: 'Decl_Annotation_List', 135: 'Elsif_Branch_List', 136: 'Enum_Class_Alt_Decl_List', 137: 'Enum_Class_Case_List', 138: 'Enum_Lit_Decl_List', 139: 'Expr_List', 140: 'Any_Of_List', 141: 'Full_Decl_List', 142: 'Decl_Block', 143: 'Generic_Param_Decl_List', 144: 'Fun_Param_Decl_List', 145: 'Grammar_Expr_List', 146: 'Grammar_Expr_List_List', 147: 'Import_List', 148: 'Lambda_Param_Decl_List', 149: 'Lkt_Node_List', 150: 'Block_Decl_List', 151: 'Node_Pattern_Detail_List', 152: 'Ref_Id_List', 153: 'Type_Ref_List', 154: 'Synthetic_Type_Ref_List', 155: 'Node_Pattern_Field', 156: 'Node_Pattern_Property', 157: 'Node_Pattern_Selector', 158: 'Null_Cond_Qualifier_Absent', 159: 'Null_Cond_Qualifier_Present', 160: 'Op_Amp', 161: 'Op_And', 162: 'Op_Div', 163: 'Op_Eq', 164: 'Op_Gt', 165: 'Op_Gte', 166: 'Op_Logic_And', 167: 'Op_Logic_Or', 168: 'Op_Lt', 169: 'Op_Lte', 170: 'Op_Minus', 171: 'Op_Mult', 172: 'Op_Ne', 173: 'Op_Or', 174: 'Op_Or_Int', 175: 'Op_Plus', 176: 'Selector_Call', 177: 'Default_List_Type_Ref', 178: 'Function_Type_Ref', 179: 'Generic_Type_Ref', 180: 'Simple_Type_Ref', 181: 'Var_Bind'},
        prefix='lkt'
    )
